webpackJsonp([6],{35:function(e,t,n){(function(e){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=s["default"].pending(),n=document.createElement("div"),a=l["default"].createElement(p,o({node:n,resolver:t},e));return document.body.appendChild(n),u["default"].render(a,n),t.promise};var r=n(1),l=a(r),c=n(22),u=a(c),i=n(48),s=a(i),d=n(58),f=a(d),p=l["default"].createClass({displayName:"ConfirmDialog",propTypes:{title:l["default"].PropTypes.node.isRequired,content:l["default"].PropTypes.node.isRequired,icon:l["default"].PropTypes.string,approveCaption:l["default"].PropTypes.string,rejectCaption:l["default"].PropTypes.string,checkboxCaption:l["default"].PropTypes.node},getDefaultProps:function(){return{approveCaption:"Yes",rejectCaption:"No"}},getInitialState:function(){return{checked:!1}},componentDidMount:function(){var t={movePopup:!1,onHidden:this.onHidden,onApprove:this.onApprove,onDeny:this.onDeny,closable:!1,detachable:!1,allowMultiple:!0},n=u["default"].findDOMNode(this);e(n).modal(t).modal("show")},onDeny:function(e){this.props.resolver.reject(new Error("Denied"))},onApprove:function(e){this.props.resolver.resolve(this.state.checked)},onHidden:function(){this.props.node&&(u["default"].unmountComponentAtNode(this.props.node),document.body.removeChild(this.props.node))},onCheckboxValueChanged:function(e){this.setState({checked:e})},render:function(){return l["default"].createElement("div",{className:"ui basic modal confirm-dialog"},l["default"].createElement("div",{className:"header"},this.props.title),l["default"].createElement("div",{className:"image content"},l["default"].createElement("div",{className:"image"},l["default"].createElement("i",{className:this.props.icon+" icon"})),l["default"].createElement("div",{className:"description"},this.props.content,this.props.checkboxCaption?l["default"].createElement(f["default"],{checked:!1,onChange:this.onCheckboxValueChanged,caption:this.props.checkboxCaption}):null)),l["default"].createElement("div",{className:"actions"},l["default"].createElement("div",{className:"two fluid ui inverted buttons"},l["default"].createElement("div",{className:"ui cancel red basic inverted button"},l["default"].createElement("i",{className:"remove icon"}),this.props.rejectCaption),l["default"].createElement("div",{className:"ui ok green basic inverted button"},l["default"].createElement("i",{className:"checkmark icon"}),this.props.approveCaption))))}})}).call(t,n(21))},71:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="favorite_hubs/v0";t.ConnectStateEnum={DISCONNECTED:0,CONNECTING:1,CONNECTED:2};t["default"]={MODULE_URL:n,HUB_URL:n+"/hub"}},160:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordDialog=void 0;var l=n(1),c=a(l),u=n(178),i=a(u),s=n(35),d=a(s),f=c["default"].createClass({displayName:"InputField",propTypes:{content:c["default"].PropTypes.node.isRequired},render:function(){var e=this.props,t=e.content,n=o(e,["content"]);return c["default"].createElement("div",{className:"ui input dialog"},t,c["default"].createElement("input",n))}}),p=function(e,t){var n=t.defaultValue?t.defaultValue:"",a=i["default"].pending(),o=c["default"].createElement(f,r({},t,{content:e.content,onChange:function(e){return n=e.target.value}}));return(0,d["default"])(Object.assign(e,{rejectCaption:"Cancel",content:o})).then(function(){return a.resolve(n)})["catch"](function(){}),a.promise};t.PasswordDialog=function(e,t){var n={icon:"yellow lock",approveCaption:"Set password",content:t,title:e},a={placeholder:"Enter password",type:"password"};return p(n,a)};t["default"]=p},445:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FavoriteHubActions=void 0;var o=n(3),r=a(o),l=n(6),c=a(l),u=n(35),i=a(u),s=n(25),d=a(s),f=n(71),p=a(f),m=n(59),h=a(m),v=n(18),E=a(v),C=n(5),_=a(C),w=n(20),y=a(w),g=t.FavoriteHubActions=r["default"].createActions([{create:{asyncResult:!0,children:["saved"],displayName:"Add new",access:_["default"].FAVORITE_HUBS_EDIT,icon:E["default"].CREATE}},{edit:{asyncResult:!0,children:["saved"],displayName:"Edit",access:_["default"].FAVORITE_HUBS_EDIT,icon:E["default"].EDIT}},{remove:{asyncResult:!0,children:["confirmed"],displayName:"Remove",access:_["default"].FAVORITE_HUBS_EDIT,icon:E["default"].REMOVE}},{update:{asyncResult:!0}}]);g.create.listen(function(e){y["default"].pushModal(e,"/favorite-hubs/new",h["default"].FAVORITE_MODAL_ID)}),g.edit.listen(function(e,t){y["default"].pushModal(t,"/favorite-hubs/edit",h["default"].FAVORITE_MODAL_ID,{hubEntry:e})}),g.update.listen(function(e,t){var n=this;return c["default"].patch(p["default"].HUB_URL+"/"+e.id,t).then(n.completed)["catch"](this.failed)}),g.remove.shouldEmit=function(e){var t={title:this.displayName,content:"Are you sure that you want to remove the favorite hub "+e.name+"?",icon:this.icon,approveCaption:"Remove favorite hub",rejectCaption:"Don't remove"};return(0,i["default"])(t).then(function(){return g.remove.confirmed(e)})["catch"](function(){}),!1},g.remove.confirmed.listen(function(e){return c["default"]["delete"](p["default"].HUB_URL+"/"+e.id).then(function(){return g.remove.completed(e)})["catch"](function(t){return g.remove.failed(e,t)})}),g.remove.completed.listen(function(e){d["default"].error({title:e.name,message:"The hub has been removed successfully"})}),g.remove.failed.listen(function(e,t){d["default"].error({title:e.name,message:"Failed to remove the hub: "+t.message})}),t["default"]=g},446:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=a(o),l=n(6),c=a(l),u=n(35),i=a(u),s=n(160),d=n(71),f=a(d),p=n(18),m=a(p),h=n(5),v=a(h),E=function(e,t,n){return c["default"].patch(f["default"].HUB_URL+"/"+e.id,{password:t}).then(function(){return n.completed(e)})["catch"](function(t){return n.failed(e,t)})},C=r["default"].createActions([{create:{asyncResult:!0,children:["saved"],displayName:"Set password",access:v["default"].FAVORITE_HUBS_EDIT,icon:m["default"].LOCK}},{change:{asyncResult:!0,children:["saved"],displayName:"Change password",access:v["default"].FAVORITE_HUBS_EDIT,icon:m["default"].EDIT}},{remove:{asyncResult:!0,children:["confirmed"],displayName:"Remove password",access:v["default"].FAVORITE_HUBS_EDIT,icon:m["default"].REMOVE}}]);C.create.listen(function(e){var t="Set password for the hub "+e.name;(0,s.PasswordDialog)("Set password",t).then(function(t){return C.create.saved(e,t)})["catch"](function(){})}),C.create.saved.listen(function(e,t){E(e,t,C.create)}),C.change.listen(function(e){var t="Enter new password for the hub "+e.name;(0,s.PasswordDialog)("Change password",t).then(function(t){return C.change.saved(e,t)})["catch"](function(){})}),C.change.saved.listen(function(e,t){E(e,t,C.change)}),C.remove.listen(function(e){var t=this,n={title:this.displayName,content:"Are you sure that you want to reset the password of the hub "+e.name+"?",icon:this.icon,approveCaption:"Remove password",rejectCaption:"Don't remove"};(0,i["default"])(n).then(function(){return t.confirmed(e)})}),C.remove.confirmed.listen(function(e){E(e,null,C.remove)}),t["default"]=C},484:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),l=n(56),c=a(l),u=n(71),i=r["default"].createClass({displayName:"ConnectStateCell",getIcon:function(){switch(this.props.cellData.id){case u.ConnectStateEnum.CONNECTING:return"yellow remove";case u.ConnectStateEnum.CONNECTED:return"grey remove";case u.ConnectStateEnum.DISCONNECTED:return"green video play"}},getClickAction:function(){var e=this;switch(this.props.cellData.id){case u.ConnectStateEnum.CONNECTING:case u.ConnectStateEnum.CONNECTED:return function(){return c["default"].removeSession({id:e.props.cellData.current_hub_id})};case u.ConnectStateEnum.DISCONNECTED:return function(){return c["default"].createSession(e.props.location,e.props.rowData.hub_url)}}},render:function(){return r["default"].createElement("div",{className:"connect-state"},r["default"].createElement("i",{className:"icon large link "+this.getIcon(),onClick:this.getClickAction()}),this.props.width>120?this.props.cellData.str:null)}});t["default"]=i},485:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=a(o),l=n(445),c=a(l),u=n(446),i=a(u),s=n(581),d=a(s),f=n(71),p=n(70),m=a(p),h=n(52),v=n(69),E=n(484),C=a(E),_=n(30),w=n(91),y=a(w),g=n(5),N=a(g),b=n(9),D=a(b);n(807);var O=function(e){var t=e.cellData,n=e.rowData;return r["default"].createElement(_.TableActionMenu,{caption:t?r["default"].createElement("strong",null,"Set"):"Not set",actions:i["default"],ids:t?["change","remove"]:["create"],itemData:n})},T=r["default"].createClass({displayName:"FavoriteHubs",_rowClassNameGetter:function(e){switch(e.connect_state.id){case f.ConnectStateEnum.CONNECTING:return"connecting";case f.ConnectStateEnum.CONNECTED:return"connected";case f.ConnectStateEnum.DISCONNECTED:return"disconnected"}},onChangeAutoConnect:function(e,t){c["default"].update(t,{auto_connect:e})},render:function(){var e=r["default"].createElement(y["default"],{action:c["default"].create,args:[this.props.location]}),t=D["default"].hasAccess(N["default"].ACCESS_HUBS_EDIT);return r["default"].createElement(m["default"],{rowClassNameGetter:this._rowClassNameGetter,footerData:e,store:d["default"]},r["default"].createElement(h.Column,{name:"State",width:45,columnKey:"connect_state",cell:t?r["default"].createElement(C["default"],{location:this.props.location}):null,flexGrow:3}),r["default"].createElement(h.Column,{name:"Name",width:150,columnKey:"name",flexGrow:6,cell:r["default"].createElement(v.ActionCell,{actions:c["default"],ids:["edit","remove"],location:this.props.location})}),r["default"].createElement(h.Column,{name:"Address",width:270,columnKey:"hub_url",flexGrow:3,hideWidth:700}),r["default"].createElement(h.Column,{name:"Auto connect",width:65,columnKey:"auto_connect",cell:t?r["default"].createElement(v.CheckboxCell,{onChange:this.onChangeAutoConnect,type:"toggle"}):null}),r["default"].createElement(h.Column,{name:"Share profile",width:100,columnKey:"share_profile",flexGrow:1}),r["default"].createElement(h.Column,{name:"Nick",width:100,columnKey:"nick",flexGrow:1}),r["default"].createElement(h.Column,{name:"Password",width:100,columnKey:"has_password",cell:r["default"].createElement(O,null)}))}});t["default"]=T},581:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=a(o),l=n(71),c=a(l),u=n(72),i=a(u);t["default"]=r["default"].createStore({_viewName:"favorite_hub_view",_apiUrl:c["default"].MODULE_URL,mixins:[(0,i["default"])("name")]})},604:function(e,t,n){t=e.exports=n(10)(),t.push([e.id,".virtual-table .cell-wrapper.connected,.virtual-table .cell-wrapper.connected span,.virtual-table .cell-wrapper.connected strong{color:green}.virtual-table .cell-wrapper.connecting,.virtual-table .cell-wrapper.connecting span,.virtual-table .cell-wrapper.connecting strong{color:orange}.virtual-table .cell-wrapper.disconnected,.virtual-table .cell-wrapper.disconnected span,.virtual-table .cell-wrapper.disconnected strong{color:#000}",""])},807:[830,604]});
//# sourceMappingURL=favorite-hubs.chunk.js.map
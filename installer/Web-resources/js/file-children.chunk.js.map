{"version":3,"sources":["webpack:///js/file-children.chunk.js","webpack:///C:/Projects/airdcpp-webui/src/decorators/RedrawDecorator.jsx","webpack:///C:/Projects/airdcpp-webui/src/routes/Sidebar/routes/Files/components/FileFooter.jsx","webpack:///C:/Projects/airdcpp-webui/src/routes/Sidebar/routes/Files/components/FileSession.jsx","webpack:///C:/Projects/airdcpp-webui/src/routes/Sidebar/routes/Files/components/ImageFile.jsx","webpack:///C:/Projects/airdcpp-webui/src/routes/Sidebar/routes/Files/components/TextFile.jsx"],"names":["webpackJsonp",166,"module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","Component","redrawIntervalSeconds","arguments","length","undefined","RedrawDecorator","_react2","createClass","displayName","componentDidMount","this","scheduleComponentRefresh","componentWillUnmount","clearTimeout","redrawTimeout","_this","setTimeout","forceUpdate","render","createElement","props","_react",563,"_RedrawDecorator","_RedrawDecorator2","_ValueFormat","_ValueFormat2","_SessionFooter","_BrowserUtils","_BrowserUtils2","FileFooter","_ref","item","useMobileLayout","SessionFooter","FooterItem","label","text","formatRelativeTime","time_finished",564,"_Loader","_Loader2","_ImageFile","_ImageFile2","_TextFile","_TextFile2","_FileFooter","_FileFooter2","FileSession","state","id","str","className","type","content_type",566,"_LoginStore","_LoginStore2","getUri","tth","token","ImageFile","src",567,"_SocketService","_SocketService2","_ViewFileConstants","_ViewFileConstants2","_Message","_Message2","_reactLinkify","_reactLinkify2","TextFile","componentWillMount","fetchText","componentWillReceiveProps","nextProps","idChanged","setState","getInitialState","error","get","SESSION_URL","then","onTextReceive","onTextFailed","message","data","properties","target","title","description"],"mappings":"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","file":"js/file-children.chunk.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 166:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\texports.default = function (Component) {\n\t\tvar redrawIntervalSeconds = arguments.length <= 1 || arguments[1] === undefined ? 60 : arguments[1];\n\t\n\t\tvar RedrawDecorator = _react2.default.createClass({\n\t\t\tdisplayName: 'RedrawDecorator',\n\t\t\tcomponentDidMount: function componentDidMount() {\n\t\t\t\tthis.scheduleComponentRefresh();\n\t\t\t},\n\t\t\tcomponentWillUnmount: function componentWillUnmount() {\n\t\t\t\tclearTimeout(this.redrawTimeout);\n\t\t\t},\n\t\t\tscheduleComponentRefresh: function scheduleComponentRefresh() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tthis.redrawTimeout = setTimeout(function () {\n\t\t\t\t\t_this.forceUpdate();\n\t\t\t\t\t_this.scheduleComponentRefresh();\n\t\t\t\t}, redrawIntervalSeconds * 1000);\n\t\t\t},\n\t\n\t\t\trender: function render() {\n\t\t\t\treturn _react2.default.createElement(Component, this.props);\n\t\t\t}\n\t\t});\n\t\n\t\treturn RedrawDecorator;\n\t};\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t;\n\n/***/ },\n\n/***/ 563:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _RedrawDecorator = __webpack_require__(166);\n\t\n\tvar _RedrawDecorator2 = _interopRequireDefault(_RedrawDecorator);\n\t\n\tvar _ValueFormat = __webpack_require__(24);\n\t\n\tvar _ValueFormat2 = _interopRequireDefault(_ValueFormat);\n\t\n\tvar _SessionFooter = __webpack_require__(125);\n\t\n\tvar _BrowserUtils = __webpack_require__(31);\n\t\n\tvar _BrowserUtils2 = _interopRequireDefault(_BrowserUtils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar FileFooter = function FileFooter(_ref) {\n\t\tvar item = _ref.item;\n\t\n\t\tif (_BrowserUtils2.default.useMobileLayout()) {\n\t\t\treturn _react2.default.createElement('span', null);\n\t\t}\n\t\n\t\treturn _react2.default.createElement(\n\t\t\t_SessionFooter.SessionFooter,\n\t\t\tnull,\n\t\t\t_react2.default.createElement(_SessionFooter.FooterItem, { label: 'Downloaded', text: _ValueFormat2.default.formatRelativeTime(item.time_finished) })\n\t\t);\n\t};\n\t\n\texports.default = (0, _RedrawDecorator2.default)(FileFooter);\n\n/***/ },\n\n/***/ 564:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _Loader = __webpack_require__(16);\n\t\n\tvar _Loader2 = _interopRequireDefault(_Loader);\n\t\n\tvar _ImageFile = __webpack_require__(566);\n\t\n\tvar _ImageFile2 = _interopRequireDefault(_ImageFile);\n\t\n\tvar _TextFile = __webpack_require__(567);\n\t\n\tvar _TextFile2 = _interopRequireDefault(_TextFile);\n\t\n\tvar _FileFooter = __webpack_require__(563);\n\t\n\tvar _FileFooter2 = _interopRequireDefault(_FileFooter);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar FileSession = _react2.default.createClass({\n\t\tdisplayName: 'FileSession',\n\t\trender: function render() {\n\t\t\tvar item = this.props.item;\n\t\n\t\t\tif (item.state.id !== 'downloaded') {\n\t\t\t\treturn _react2.default.createElement(_Loader2.default, { text: item.state.str });\n\t\t\t}\n\t\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'file-session ' + item.type.str + ' ' + item.type.content_type },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'file-content' },\n\t\t\t\t\titem.text ? _react2.default.createElement(_TextFile2.default, { item: item }) : _react2.default.createElement(_ImageFile2.default, { item: item })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(_FileFooter2.default, { item: item })\n\t\t\t);\n\t\t}\n\t});\n\t\n\texports.default = FileSession;\n\n/***/ },\n\n/***/ 566:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _LoginStore = __webpack_require__(9);\n\t\n\tvar _LoginStore2 = _interopRequireDefault(_LoginStore);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar getUri = function getUri(tth) {\n\t\treturn '/view/' + tth + '?auth=' + _LoginStore2.default.token;\n\t};\n\t\n\tvar ImageFile = function ImageFile(_ref) {\n\t\tvar item = _ref.item;\n\t\n\t\treturn _react2.default.createElement('img', { src: getUri(item.tth) });\n\t};\n\t\n\texports.default = ImageFile;\n\n/***/ },\n\n/***/ 567:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _Loader = __webpack_require__(16);\n\t\n\tvar _Loader2 = _interopRequireDefault(_Loader);\n\t\n\tvar _SocketService = __webpack_require__(6);\n\t\n\tvar _SocketService2 = _interopRequireDefault(_SocketService);\n\t\n\tvar _ViewFileConstants = __webpack_require__(119);\n\t\n\tvar _ViewFileConstants2 = _interopRequireDefault(_ViewFileConstants);\n\t\n\tvar _Message = __webpack_require__(17);\n\t\n\tvar _Message2 = _interopRequireDefault(_Message);\n\t\n\tvar _reactLinkify = __webpack_require__(133);\n\t\n\tvar _reactLinkify2 = _interopRequireDefault(_reactLinkify);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar TextFile = _react2.default.createClass({\n\t\tdisplayName: 'TextFile',\n\t\tcomponentWillMount: function componentWillMount() {\n\t\t\tif (this.props.item.state.id === 'downloaded') {\n\t\t\t\tthis.fetchText(this.props.item);\n\t\t\t}\n\t\t},\n\t\tcomponentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t\t\tif (nextProps.item.state.id !== 'downloaded') {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar idChanged = nextProps.item.id !== this.props.item.id;\n\t\t\tif (idChanged) {\n\t\t\t\tthis.setState(this.getInitialState());\n\t\t\t}\n\t\n\t\t\tif (idChanged || this.props.item.state.id !== 'downloaded') {\n\t\t\t\tthis.fetchText(nextProps.item);\n\t\t\t}\n\t\t},\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn {\n\t\t\t\ttext: null,\n\t\t\t\terror: null\n\t\t\t};\n\t\t},\n\t\tfetchText: function fetchText(item) {\n\t\t\t_SocketService2.default.get(_ViewFileConstants2.default.SESSION_URL + '/' + item.id + '/text').then(this.onTextReceive).catch(this.onTextFailed);\n\t\t},\n\t\tonTextFailed: function onTextFailed(error) {\n\t\t\tthis.setState({\n\t\t\t\terror: error.message\n\t\t\t});\n\t\t},\n\t\tonTextReceive: function onTextReceive(data) {\n\t\t\tthis.setState({\n\t\t\t\ttext: data.text\n\t\t\t});\n\t\t},\n\t\trender: function render() {\n\t\t\tvar state = this.props.item.state;\n\t\n\t\t\tif (state.id === 'downloaded' && !this.state.text) {\n\t\t\t\tif (this.state.error) {\n\t\t\t\t\treturn _react2.default.createElement(_Message2.default, {\n\t\t\t\t\t\ttitle: 'Failed to fetch content',\n\t\t\t\t\t\tdescription: this.state.error\n\t\t\t\t\t});\n\t\t\t\t}\n\t\n\t\t\t\treturn _react2.default.createElement(_Loader2.default, { text: 'Preparing view' });\n\t\t\t}\n\t\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'pre',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_reactLinkify2.default,\n\t\t\t\t\t{ properties: { target: '_blank' } },\n\t\t\t\t\tthis.state.text\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\t\n\texports.default = TextFile;\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** js/file-children.chunk.js\n **/","import React from 'react';\n\n\nexport default function (Component, redrawIntervalSeconds = 60) {\n\tconst RedrawDecorator = React.createClass({\n\t\tcomponentDidMount() {\n\t\t\tthis.scheduleComponentRefresh();\n\t\t},\n\n\t\tcomponentWillUnmount() {\n\t\t\tclearTimeout(this.redrawTimeout);\n\t\t},\n\n\t\tscheduleComponentRefresh() {\n\t\t\tthis.redrawTimeout = setTimeout(() => { \n\t\t\t\tthis.forceUpdate();\n\t\t\t\tthis.scheduleComponentRefresh();\n\t\t\t}, redrawIntervalSeconds * 1000);\n\t\t},\n\n\t\trender: function () {\n\t\t\treturn <Component {...this.props}/>;\n\t\t}\n\t});\n\n\treturn RedrawDecorator;\n};\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/decorators/RedrawDecorator.jsx\n **/","'use strict';\nimport React from 'react';\n\nimport RedrawDecorator from 'decorators/RedrawDecorator';\nimport ValueFormat from 'utils/ValueFormat';\nimport { FooterItem, SessionFooter } from 'routes/Sidebar/components/SessionFooter';\nimport BrowserUtils from 'utils/BrowserUtils';\n\n\nconst FileFooter = ({ item }) => {\n\tif (BrowserUtils.useMobileLayout()) {\n\t\treturn <span/>;\n\t}\n\n\treturn (\n\t\t<SessionFooter>\n\t\t\t<FooterItem label=\"Downloaded\" text={ ValueFormat.formatRelativeTime(item.time_finished) }/>\n\t\t</SessionFooter>\n\t);\n};\n\nexport default RedrawDecorator(FileFooter);\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/routes/Sidebar/routes/Files/components/FileFooter.jsx\n **/","'use strict';\r\nimport React from 'react';\r\n\r\nimport Loader from 'components/semantic/Loader';\r\n\r\nimport ImageFile from './ImageFile';\r\nimport TextFile from './TextFile';\r\nimport FileFooter from './FileFooter';\r\n\r\nconst FileSession = React.createClass({\r\n\trender() {\r\n\t\tconst { item } = this.props;\r\n\t\tif (item.state.id !== 'downloaded') {\r\n\t\t\treturn <Loader text={ item.state.str }/>;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={ 'file-session ' + item.type.str + ' ' + item.type.content_type }>\r\n\t\t\t\t<div className=\"file-content\">\r\n\t\t\t\t\t{ item.text ? (\r\n\t\t\t\t\t\t<TextFile item={ item }/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<ImageFile item={ item }/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</div>\r\n\t\t\t\t<FileFooter item={ item }/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n});\r\n\r\nexport default FileSession;\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/routes/Sidebar/routes/Files/components/FileSession.jsx\n **/","'use strict';\nimport React from 'react';\n\nimport LoginStore from 'stores/LoginStore';\n\n\nconst getUri = (tth) => {\n\treturn '/view/' + tth + '?auth=' + LoginStore.token; \n};\n\nconst ImageFile = ({ item }) => {\n\treturn (\n\t\t<img src={ getUri(item.tth) }/>\n\t);\n};\n\nexport default ImageFile;\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/routes/Sidebar/routes/Files/components/ImageFile.jsx\n **/","'use strict';\nimport React from 'react';\n\nimport Loader from 'components/semantic/Loader';\nimport SocketService from 'services/SocketService';\nimport ViewFileConstants from 'constants/ViewFileConstants';\nimport Message from 'components/semantic/Message';\n\nimport Linkify from 'react-linkify';\n\n\nconst TextFile = React.createClass({\n\tcomponentWillMount() {\n\t\tif (this.props.item.state.id === 'downloaded') {\n\t\t\tthis.fetchText(this.props.item);\n\t\t}\n\t},\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.item.state.id !== 'downloaded') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst idChanged = nextProps.item.id !== this.props.item.id;\n\t\tif (idChanged) {\n\t\t\tthis.setState(this.getInitialState());\n\t\t}\n\n\t\tif (idChanged || this.props.item.state.id !== 'downloaded') {\n\t\t\tthis.fetchText(nextProps.item);\n\t\t}\n\t},\n\n\tgetInitialState() {\n\t\treturn {\n\t\t\ttext: null,\n\t\t\terror: null,\n\t\t};\n\t},\n\n\tfetchText(item) {\n\t\tSocketService.get(ViewFileConstants.SESSION_URL + '/' + item.id + '/text')\n\t\t\t.then(this.onTextReceive)\n\t\t\t.catch(this.onTextFailed);\n\t},\n\n\tonTextFailed(error) {\n\t\tthis.setState({ \n\t\t\terror: error.message,\n\t\t});\n\t},\n\n\tonTextReceive(data) {\n\t\tthis.setState({ \n\t\t\ttext: data.text,\n\t\t});\n\t},\n\n\trender() {\n\t\tconst { state } = this.props.item;\n\t\tif (state.id === 'downloaded' && !this.state.text) {\n\t\t\tif (this.state.error) {\n\t\t\t\treturn (\n\t\t\t\t\t<Message\n\t\t\t\t\t\ttitle=\"Failed to fetch content\"\n\t\t\t\t\t\tdescription={ this.state.error }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn <Loader text=\"Preparing view\"/>;\n\t\t}\n\n\t\treturn (\n\t\t\t<pre>\n\t\t\t\t<Linkify properties={{ target: '_blank' }}>\n\t\t\t\t\t{ this.state.text }\n\t\t\t\t</Linkify>\n\t\t\t</pre>\n\t\t);\n\t},\n});\n\nexport default TextFile;\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/routes/Sidebar/routes/Files/components/TextFile.jsx\n **/"],"sourceRoot":""}
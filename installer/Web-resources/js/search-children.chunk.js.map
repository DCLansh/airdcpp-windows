{"version":3,"sources":["webpack:///js/search-children.chunk.js","webpack:///C:/Projects/airdcpp-webui/src/constants/ShareConstants.js?42e4","webpack:///C:/Projects/airdcpp-webui/src/components/download/DownloadDialog.jsx?ea2b","webpack:///C:/Projects/airdcpp-webui/src/components/download/DownloadFileBrowser.jsx?bd5c","webpack:///C:/Projects/airdcpp-webui/src/components/download/DownloadTargets.jsx?8592","webpack:///C:/Projects/airdcpp-webui/src/constants/FavoriteDirectoryConstants.js?bd1d","webpack:///./src/components/download/style.css?a04d"],"names":["webpackJsonp",61,"module","exports","Object","defineProperty","value","MODULE_URL","DUPE_PATHS_URL","GROUPED_ROOTS_GET_URL","STATS_URL","REFRESH_URL","REFRESH_PATHS_URL",153,"__webpack_require__","_interopRequireDefault","obj","__esModule","default","_defineProperty","key","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","_react","_react2","_Modal","_Modal2","_QueueConstants","_QueueConstants2","_ShareConstants","_ShareConstants2","_HistoryConstants","_HistoryConstants2","_FavoriteDirectoryConstants","_FavoriteDirectoryConstants2","_IconConstants","_IconConstants2","_HistoryActions","_HistoryActions2","_SocketService","_SocketService2","_reactRouter","_HistoryContext","_HistoryContext2","_DownloadFileBrowser","_DownloadFileBrowser2","_DownloadTargets","_TypeConvert","_TypeConvert2","_FileUtils","_FileUtils2","_BrowserUtils","_BrowserUtils2","_AccessConstants","_AccessConstants2","_LoginStore","_LoginStore2","_Dropdown","_Dropdown2","MenuItem","_ref","active","list","title","onClick","createElement","className","NormalLayout","_ref2","menuItems","section","component","MobileLayout","_ref3","caption","name","DownloadDialog","createClass","displayName","mixins","RouteContext","propTypes","downloadHandler","PropTypes","func","itemInfo","shape","path","string","dupe","number","type","object","getInitialState","share_paths","dupe_paths","favorite_paths","history_paths","fetchPaths","requestPath","stateId","_this","this","get","then","data","setState","error","console","message","fetchDupePaths","_this2","props","isDirectory","tth","post","state","concat","map","getParentPath","componentDidMount","DIRECTORIES_URL","ITEMS_URL","HistoryEnum","DOWNLOAD_DIR","dupeName","dupeToStringType","indexOf","handleDownload","target_name","target_directory","target_type","priority","PriorityEnum","DEFAULT","add","refs","modal","hide","getMenuItem","_this3","render","_this4","sections","PathList","paths","AccordionTargets","groupedPaths","hasAccess","FILESYSTEM_VIEW","push","history","find","Component","useMobileLayout","ref","closable","icon","DOWNLOAD","fullHeight",154,"_FileBrowserLayout","_FileBrowserLayout2","DownloadFileBrowser","onDirectoryChanged","currentPath","getInitialPath","selectedNameFormatter","token","formatedCaption","initialPath",155,"undefined","_Accordion","_Accordion2","_Message","_Message2","EmptyMessage","PathItem","evt","isRequired","array","formatParent","parent",162,179,"id",214],"mappings":"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","file":"js/search-children.chunk.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ 61:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar MODULE_URL = 'share/v0';\n\texports.default = {\n\t\tMODULE_URL: MODULE_URL,\n\t\n\t\tDUPE_PATHS_URL: MODULE_URL + '/find_dupe_paths',\n\t\tGROUPED_ROOTS_GET_URL: MODULE_URL + '/grouped_root_paths',\n\t\tSTATS_URL: MODULE_URL + '/stats',\n\t\n\t\tREFRESH_URL: MODULE_URL + '/refresh',\n\t\tREFRESH_PATHS_URL: MODULE_URL + '/refresh/paths'\n\t};\n\n/***/ },\n\n/***/ 153:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _Modal = __webpack_require__(83);\n\t\n\tvar _Modal2 = _interopRequireDefault(_Modal);\n\t\n\tvar _QueueConstants = __webpack_require__(60);\n\t\n\tvar _QueueConstants2 = _interopRequireDefault(_QueueConstants);\n\t\n\tvar _ShareConstants = __webpack_require__(61);\n\t\n\tvar _ShareConstants2 = _interopRequireDefault(_ShareConstants);\n\t\n\tvar _HistoryConstants = __webpack_require__(95);\n\t\n\tvar _HistoryConstants2 = _interopRequireDefault(_HistoryConstants);\n\t\n\tvar _FavoriteDirectoryConstants = __webpack_require__(162);\n\t\n\tvar _FavoriteDirectoryConstants2 = _interopRequireDefault(_FavoriteDirectoryConstants);\n\t\n\tvar _IconConstants = __webpack_require__(18);\n\t\n\tvar _IconConstants2 = _interopRequireDefault(_IconConstants);\n\t\n\tvar _HistoryActions = __webpack_require__(144);\n\t\n\tvar _HistoryActions2 = _interopRequireDefault(_HistoryActions);\n\t\n\tvar _SocketService = __webpack_require__(6);\n\t\n\tvar _SocketService2 = _interopRequireDefault(_SocketService);\n\t\n\tvar _reactRouter = __webpack_require__(23);\n\t\n\tvar _HistoryContext = __webpack_require__(85);\n\t\n\tvar _HistoryContext2 = _interopRequireDefault(_HistoryContext);\n\t\n\tvar _DownloadFileBrowser = __webpack_require__(154);\n\t\n\tvar _DownloadFileBrowser2 = _interopRequireDefault(_DownloadFileBrowser);\n\t\n\tvar _DownloadTargets = __webpack_require__(155);\n\t\n\tvar _TypeConvert = __webpack_require__(49);\n\t\n\tvar _TypeConvert2 = _interopRequireDefault(_TypeConvert);\n\t\n\tvar _FileUtils = __webpack_require__(128);\n\t\n\tvar _FileUtils2 = _interopRequireDefault(_FileUtils);\n\t\n\tvar _BrowserUtils = __webpack_require__(31);\n\t\n\tvar _BrowserUtils2 = _interopRequireDefault(_BrowserUtils);\n\t\n\tvar _AccessConstants = __webpack_require__(5);\n\t\n\tvar _AccessConstants2 = _interopRequireDefault(_AccessConstants);\n\t\n\tvar _LoginStore = __webpack_require__(9);\n\t\n\tvar _LoginStore2 = _interopRequireDefault(_LoginStore);\n\t\n\tvar _Dropdown = __webpack_require__(82);\n\t\n\tvar _Dropdown2 = _interopRequireDefault(_Dropdown);\n\t\n\t__webpack_require__(214);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar MenuItem = function MenuItem(_ref) {\n\t\tvar active = _ref.active;\n\t\tvar list = _ref.list;\n\t\tvar title = _ref.title;\n\t\tvar onClick = _ref.onClick;\n\t\treturn _react2.default.createElement(\n\t\t\t'a',\n\t\t\t{ className: 'item ' + (active ? 'active' : ''), onClick: onClick },\n\t\t\ttitle,\n\t\t\tlist ? _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ui small right label' },\n\t\t\t\t' ',\n\t\t\t\tlist.length,\n\t\t\t\t' '\n\t\t\t) : null\n\t\t);\n\t};\n\t\n\tvar NormalLayout = function NormalLayout(_ref2) {\n\t\tvar menuItems = _ref2.menuItems;\n\t\tvar section = _ref2.section;\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'ui grid normal layout' },\n\t\t\t_react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'four wide column' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ui vertical fluid tabular menu' },\n\t\t\t\t\tmenuItems\n\t\t\t\t)\n\t\t\t),\n\t\t\t_react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'twelve wide stretched column' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'ui segment main-content' },\n\t\t\t\t\tsection.component\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\t\n\tvar MobileLayout = function MobileLayout(_ref3) {\n\t\tvar menuItems = _ref3.menuItems;\n\t\tvar section = _ref3.section;\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'mobile layout' },\n\t\t\t_react2.default.createElement(\n\t\t\t\t_Dropdown2.default,\n\t\t\t\t{ className: 'selection fluid', caption: section.name },\n\t\t\t\tmenuItems\n\t\t\t),\n\t\t\t_react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ui segment main-content' },\n\t\t\t\tsection.component\n\t\t\t)\n\t\t);\n\t};\n\t\n\tvar DownloadDialog = _react2.default.createClass({\n\t\tdisplayName: 'DownloadDialog',\n\t\n\t\tmixins: [_reactRouter.RouteContext, _HistoryContext2.default],\n\t\tpropTypes: {\n\t\t\t/**\r\n\t   * Function handling the path selection. Receives the selected path as argument.\r\n\t   * Required\r\n\t   */\n\t\t\tdownloadHandler: _react2.default.PropTypes.func,\n\t\n\t\t\t/**\r\n\t   * Information about the item to download\r\n\t   * Required\r\n\t   */\n\t\t\titemInfo: _react2.default.PropTypes.shape({\n\t\t\t\tpath: _react2.default.PropTypes.string,\n\t\t\t\tdupe: _react2.default.PropTypes.number,\n\t\t\t\tname: _react2.default.PropTypes.string,\n\t\t\t\ttype: _react2.default.PropTypes.object\n\t\t\t})\n\t\t},\n\t\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn {\n\t\t\t\tactive: 'history',\n\t\t\t\tshare_paths: [],\n\t\t\t\tdupe_paths: [],\n\t\t\t\tfavorite_paths: [],\n\t\t\t\thistory_paths: []\n\t\t\t};\n\t\t},\n\t\tfetchPaths: function fetchPaths(requestPath, stateId) {\n\t\t\tvar _this = this;\n\t\n\t\t\t_SocketService2.default.get(requestPath).then(function (data) {\n\t\t\t\treturn _this.setState(_defineProperty({}, stateId, data));\n\t\t\t}).catch(function (error) {\n\t\t\t\treturn console.error('Failed to fetch paths', requestPath, error.message);\n\t\t\t});\n\t\t},\n\t\tfetchDupePaths: function fetchDupePaths(requestPath) {\n\t\t\tvar _this2 = this;\n\t\n\t\t\tvar itemInfo = this.props.itemInfo;\n\t\n\t\t\tvar data = {};\n\t\t\tif (_FileUtils2.default.isDirectory(itemInfo.path)) {\n\t\t\t\tdata['path'] = itemInfo.path;\n\t\t\t} else {\n\t\t\t\tdata['tth'] = itemInfo.tth;\n\t\t\t}\n\t\n\t\t\t_SocketService2.default.post(requestPath, data).then(function (data) {\n\t\t\t\treturn _this2.setState({\n\t\t\t\t\tdupe_paths: _this2.state.dupe_paths.concat(data.map(function (path) {\n\t\t\t\t\t\treturn _FileUtils2.default.getParentPath(path, _FileUtils2.default);\n\t\t\t\t\t}))\n\t\t\t\t});\n\t\t\t}).catch(function (error) {\n\t\t\t\treturn console.error('Failed to fetch dupe paths', requestPath, error.message);\n\t\t\t});\n\t\t},\n\t\tcomponentDidMount: function componentDidMount() {\n\t\t\tthis.fetchPaths(_ShareConstants2.default.GROUPED_ROOTS_GET_URL, 'share_paths');\n\t\t\tthis.fetchPaths(_FavoriteDirectoryConstants2.default.DIRECTORIES_URL, 'favorite_paths');\n\t\t\tthis.fetchPaths(_HistoryConstants2.default.ITEMS_URL + '/' + _HistoryConstants.HistoryEnum.DOWNLOAD_DIR, 'history_paths');\n\t\n\t\t\tvar itemInfo = this.props.itemInfo;\n\t\n\t\t\tvar dupeName = _TypeConvert2.default.dupeToStringType(itemInfo.dupe);\n\t\t\tif (dupeName.indexOf('queue') > -1) {\n\t\t\t\tthis.fetchDupePaths(_QueueConstants2.default.DUPE_PATHS_URL);\n\t\t\t}\n\t\n\t\t\tif (dupeName.indexOf('share') > -1) {\n\t\t\t\tthis.fetchDupePaths(_ShareConstants2.default.DUPE_PATHS_URL);\n\t\t\t}\n\t\t},\n\t\thandleDownload: function handleDownload(path) {\n\t\t\tthis.props.downloadHandler({\n\t\t\t\ttarget_name: this.props.itemInfo.name, // possibly allow changing this later...\n\t\t\t\ttarget_directory: path,\n\t\t\t\ttarget_type: 0,\n\t\t\t\tpriority: _QueueConstants.PriorityEnum.DEFAULT\n\t\t\t});\n\t\n\t\t\t_HistoryActions2.default.add(_HistoryConstants.HistoryEnum.DOWNLOAD_DIR, path);\n\t\t\tthis.refs.modal.hide();\n\t\t},\n\t\tgetMenuItem: function getMenuItem(section) {\n\t\t\tvar _this3 = this;\n\t\n\t\t\treturn _react2.default.createElement(MenuItem, { key: section.key,\n\t\t\t\ttitle: section.name,\n\t\t\t\tonClick: function onClick() {\n\t\t\t\t\treturn _this3.setState({ active: section.key });\n\t\t\t\t},\n\t\t\t\tactive: this.state.active === section.key,\n\t\t\t\tlist: section.list\n\t\t\t});\n\t\t},\n\t\n\t\trender: function render() {\n\t\t\tvar _this4 = this;\n\t\n\t\t\tvar sections = [{\n\t\t\t\tname: 'Previous',\n\t\t\t\tkey: 'history',\n\t\t\t\tlist: this.state.history_paths,\n\t\t\t\tcomponent: _react2.default.createElement(_DownloadTargets.PathList, { paths: this.state.history_paths, downloadHandler: this.handleDownload })\n\t\t\t}, {\n\t\t\t\tname: 'Shared',\n\t\t\t\tkey: 'shared',\n\t\t\t\tlist: this.state.share_paths,\n\t\t\t\tcomponent: _react2.default.createElement(_DownloadTargets.AccordionTargets, { groupedPaths: this.state.share_paths, downloadHandler: this.handleDownload })\n\t\t\t}, {\n\t\t\t\tname: 'Favorites',\n\t\t\t\tkey: 'favorites',\n\t\t\t\tlist: this.state.favorite_paths,\n\t\t\t\tcomponent: _react2.default.createElement(_DownloadTargets.AccordionTargets, { groupedPaths: this.state.favorite_paths, downloadHandler: this.handleDownload })\n\t\t\t}, {\n\t\t\t\tname: 'Dupes',\n\t\t\t\tkey: 'dupes',\n\t\t\t\tlist: this.state.dupe_paths,\n\t\t\t\tcomponent: _react2.default.createElement(_DownloadTargets.PathList, { paths: this.state.dupe_paths, downloadHandler: this.handleDownload })\n\t\t\t}];\n\t\n\t\t\tif (_LoginStore2.default.hasAccess(_AccessConstants2.default.FILESYSTEM_VIEW)) {\n\t\t\t\tsections.push({\n\t\t\t\t\tname: 'Browse',\n\t\t\t\t\tkey: 'browse',\n\t\t\t\t\tcomponent: _react2.default.createElement(_DownloadFileBrowser2.default, { history: this.state.history_paths, downloadHandler: this.handleDownload })\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tvar section = sections.find(function (section) {\n\t\t\t\treturn section.key === _this4.state.active;\n\t\t\t});\n\t\t\tvar menuItems = sections.map(this.getMenuItem);\n\t\n\t\t\tvar Component = _BrowserUtils2.default.useMobileLayout() ? MobileLayout : NormalLayout;\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_Modal2.default,\n\t\t\t\t_extends({\n\t\t\t\t\tref: 'modal',\n\t\t\t\t\tclassName: 'download-dialog',\n\t\t\t\t\ttitle: 'Download',\n\t\t\t\t\tclosable: true,\n\t\t\t\t\ticon: _IconConstants2.default.DOWNLOAD,\n\t\t\t\t\tfullHeight: true\n\t\t\t\t}, this.props),\n\t\t\t\t_react2.default.createElement(Component, {\n\t\t\t\t\tmenuItems: menuItems,\n\t\t\t\t\tsection: section\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t});\n\t\n\texports.default = DownloadDialog;\n\n/***/ },\n\n/***/ 154:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _FileBrowserLayout = __webpack_require__(156);\n\t\n\tvar _FileBrowserLayout2 = _interopRequireDefault(_FileBrowserLayout);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar DownloadFileBrowser = _react2.default.createClass({\n\t\tdisplayName: 'DownloadFileBrowser',\n\t\thandleDownload: function handleDownload(path) {\n\t\t\tthis.refs.modal.hide();\n\t\t},\n\t\tonDirectoryChanged: function onDirectoryChanged(path) {\n\t\t\tthis.setState({ currentPath: path });\n\t\t},\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn {\n\t\t\t\tcurrentPath: this.getInitialPath()\n\t\t\t};\n\t\t},\n\t\tselectedNameFormatter: function selectedNameFormatter(caption, token) {\n\t\t\tvar _this = this;\n\t\n\t\t\tif (token.length === 0) {\n\t\t\t\t// Drive listing on Windows isn't a good target\n\t\t\t\treturn caption;\n\t\t\t}\n\t\n\t\t\tvar formatedCaption = _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'download-handler', onClick: function onClick() {\n\t\t\t\t\t\treturn _this.props.downloadHandler(_this.state.currentPath);\n\t\t\t\t\t} },\n\t\t\t\t_react2.default.createElement('i', { className: 'green download link icon' }),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'a',\n\t\t\t\t\tnull,\n\t\t\t\t\tcaption\n\t\t\t\t)\n\t\t\t);\n\t\n\t\t\treturn formatedCaption;\n\t\t},\n\t\tgetInitialPath: function getInitialPath() {\n\t\t\tvar history = this.props.history;\n\t\n\t\t\treturn history.length > 0 ? history[history.length - 1] : '';\n\t\t},\n\t\n\t\trender: function render() {\n\t\t\treturn _react2.default.createElement(_FileBrowserLayout2.default, {\n\t\t\t\tinitialPath: this.getInitialPath(),\n\t\t\t\tselectedNameFormatter: this.selectedNameFormatter,\n\t\t\t\tonDirectoryChanged: this.onDirectoryChanged\n\t\t\t});\n\t\t}\n\t});\n\t\n\texports.default = DownloadFileBrowser;\n\n/***/ },\n\n/***/ 155:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.AccordionTargets = exports.PathList = undefined;\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _Accordion = __webpack_require__(116);\n\t\n\tvar _Accordion2 = _interopRequireDefault(_Accordion);\n\t\n\tvar _Message = __webpack_require__(17);\n\t\n\tvar _Message2 = _interopRequireDefault(_Message);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar EmptyMessage = function EmptyMessage() {\n\t\treturn _react2.default.createElement(_Message2.default, {\n\t\t\ttitle: 'No paths to display'\n\t\t});\n\t};\n\t\n\tvar PathItem = function PathItem(_ref) {\n\t\tvar path = _ref.path;\n\t\tvar downloadHandler = _ref.downloadHandler;\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'item' },\n\t\t\t_react2.default.createElement('i', { className: 'yellow folder icon' }),\n\t\t\t_react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'content' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'a',\n\t\t\t\t\t{ onClick: function onClick(evt) {\n\t\t\t\t\t\t\treturn downloadHandler(path);\n\t\t\t\t\t\t} },\n\t\t\t\t\tpath\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\t\n\tvar PathList = function PathList(_ref2) {\n\t\tvar downloadHandler = _ref2.downloadHandler;\n\t\tvar paths = _ref2.paths;\n\t\n\t\tif (paths.length === 0) {\n\t\t\treturn _react2.default.createElement(EmptyMessage, null);\n\t\t}\n\t\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'ui relaxed list' },\n\t\t\tpaths.map(function (path) {\n\t\t\t\treturn _react2.default.createElement(PathItem, {\n\t\t\t\t\tkey: path,\n\t\t\t\t\tpath: path,\n\t\t\t\t\tdownloadHandler: downloadHandler\n\t\t\t\t});\n\t\t\t})\n\t\t);\n\t};\n\t\n\tPathList.PropTypes = {\n\t\t/**\n\t  * Function handling the path selection. Receives the selected path as argument.\n\t  */\n\t\tdownloadHandler: _react2.default.PropTypes.func.isRequired,\n\t\n\t\t/**\n\t  * Array of paths to list\n\t  */\n\t\tpaths: _react2.default.PropTypes.array.isRequired\n\t};\n\t\n\tvar AccordionTargets = _react2.default.createClass({\n\t\tdisplayName: 'AccordionTargets',\n\t\n\t\tpropTypes: {\n\t\t\t/**\n\t   * Function handling the path selection. Receives the selected path as argument.\n\t   */\n\t\t\tdownloadHandler: _react2.default.PropTypes.func.isRequired,\n\t\n\t\t\t/**\n\t   * Grouped paths to list\n\t   */\n\t\t\tgroupedPaths: _react2.default.PropTypes.array.isRequired\n\t\t},\n\t\n\t\tformatParent: function formatParent(parent) {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ key: parent.name },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'title' },\n\t\t\t\t\t_react2.default.createElement('i', { className: 'dropdown icon' }),\n\t\t\t\t\tparent.name\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'content' },\n\t\t\t\t\t_react2.default.createElement(PathList, { paths: parent.paths, downloadHandler: this.props.downloadHandler })\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\n\t\trender: function render() {\n\t\t\tvar groupedPaths = this.props.groupedPaths;\n\t\n\t\t\tif (groupedPaths.length === 0) {\n\t\t\t\treturn _react2.default.createElement(EmptyMessage, null);\n\t\t\t}\n\t\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_Accordion2.default,\n\t\t\t\t{ className: 'styled download-targets' },\n\t\t\t\tthis.props.groupedPaths.map(this.formatParent)\n\t\t\t);\n\t\t}\n\t});\n\t\n\texports.PathList = PathList;\n\texports.AccordionTargets = AccordionTargets;\n\n/***/ },\n\n/***/ 162:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tvar MODULE_URL = 'favorite_directories/v0';\n\texports.default = {\n\t\tMODULE_URL: MODULE_URL,\n\t\tDIRECTORIES_URL: MODULE_URL + '/directories'\n\t};\n\n/***/ },\n\n/***/ 179:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(10)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".download-dialog .accordion.download-targets{overflow-y:auto}.download-dialog .main-content,.download-dialog .mobile.layout{display:flex;flex-direction:column}.download-dialog .content>div,.download-dialog .main-content,.download-dialog .ui.grid .column{height:100%}.download-dialog .download-handler{display:flex}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 214:\n[830, 179]\n\n});\n\n\n/** WEBPACK FOOTER **\n ** js/search-children.chunk.js\n **/","const MODULE_URL = 'share/v0';\r\nexport default {\r\n\tMODULE_URL: MODULE_URL,\r\n\r\n\tDUPE_PATHS_URL: MODULE_URL + '/find_dupe_paths',\r\n\tGROUPED_ROOTS_GET_URL: MODULE_URL + '/grouped_root_paths',\r\n\tSTATS_URL: MODULE_URL + '/stats',\r\n\r\n\tREFRESH_URL: MODULE_URL + '/refresh',\r\n\tREFRESH_PATHS_URL: MODULE_URL + '/refresh/paths',\r\n}\r\n;\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/constants/ShareConstants.js\n **/","import React from 'react';\r\nimport Modal from 'components/semantic/Modal';\r\n\r\nimport { PriorityEnum } from 'constants/QueueConstants';\r\nimport QueueConstants from 'constants/QueueConstants';\r\nimport ShareConstants from 'constants/ShareConstants';\r\nimport { default as HistoryConstants, HistoryEnum } from 'constants/HistoryConstants';\r\nimport FavoriteDirectoryConstants from 'constants/FavoriteDirectoryConstants';\r\nimport IconConstants from 'constants/IconConstants';\r\n\r\nimport HistoryActions from 'actions/HistoryActions';\r\n\r\nimport SocketService from 'services/SocketService';\r\nimport { RouteContext } from 'react-router';\r\nimport HistoryContext from 'mixins/HistoryContext';\r\n\r\nimport DownloadFileBrowser from './DownloadFileBrowser';\r\nimport { PathList, AccordionTargets } from './DownloadTargets';\r\n\r\nimport TypeConvert from 'utils/TypeConvert';\r\nimport FileUtils from 'utils/FileUtils';\r\nimport BrowserUtils from 'utils/BrowserUtils';\r\n\r\nimport AccessConstants from 'constants/AccessConstants';\r\nimport LoginStore from 'stores/LoginStore';\r\n\r\nimport Dropdown from 'components/semantic/Dropdown';\r\n\r\nimport './style.css';\r\n\r\n\r\nconst MenuItem = ({ active, list, title, onClick }) => (\r\n\t<a className={ 'item ' + (active ? 'active' : '')\t} onClick={ onClick }>\r\n\t\t{ title }\r\n\t\t{ list ? (\r\n\t\t\t<div className=\"ui small right label\"> { list.length } </div>\r\n\t\t) : null }\r\n\t</a>\r\n);\r\n\r\nconst NormalLayout = ({ menuItems, section }) => (\r\n\t<div className=\"ui grid normal layout\">\r\n\t\t<div className=\"four wide column\">\r\n\t\t\t<div className=\"ui vertical fluid tabular menu\">\r\n\t\t\t\t{ menuItems }\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div className=\"twelve wide stretched column\">\r\n\t\t\t<div className=\"ui segment main-content\">\r\n\t\t\t\t{ section.component }\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n);\r\n\r\nconst MobileLayout = ({ menuItems, section }) => (\r\n\t<div className=\"mobile layout\">\r\n\t\t<Dropdown className=\"selection fluid\" caption={ section.name }>\r\n\t\t\t{ menuItems }\r\n\t\t</Dropdown>\r\n\t\t<div className=\"ui segment main-content\">\r\n\t\t\t{ section.component }\r\n\t\t</div>\r\n\t</div>\r\n);\r\n\r\nconst DownloadDialog = React.createClass({\r\n\tmixins: [ RouteContext, HistoryContext ],\r\n\tpropTypes: {\r\n\t\t/**\r\n\t\t * Function handling the path selection. Receives the selected path as argument.\r\n\t\t * Required\r\n\t\t */\r\n\t\tdownloadHandler: React.PropTypes.func,\r\n\r\n\t\t/**\r\n\t\t * Information about the item to download\r\n\t\t * Required\r\n\t\t */\r\n\t\titemInfo: React.PropTypes.shape({\r\n\t\t\tpath: React.PropTypes.string,\r\n\t\t\tdupe: React.PropTypes.number,\r\n\t\t\tname: React.PropTypes.string,\r\n\t\t\ttype: React.PropTypes.object\r\n\t\t}),\r\n\t},\r\n\r\n\tgetInitialState() {\r\n\t\treturn {\r\n\t\t\tactive: 'history',\r\n\t\t\tshare_paths: [],\r\n\t\t\tdupe_paths: [],\r\n\t\t\tfavorite_paths: [],\r\n\t\t\thistory_paths: []\r\n\t\t};\r\n\t},\r\n\r\n\tfetchPaths(requestPath, stateId) {\r\n\t\tSocketService.get(requestPath).then(data => this.setState({ [stateId]: data })).catch(error => console.error('Failed to fetch paths', requestPath, error.message));\r\n\t},\r\n\r\n\tfetchDupePaths(requestPath) {\r\n\t\tconst { itemInfo } = this.props;\r\n\r\n\t\tlet data = {};\r\n\t\tif (FileUtils.isDirectory(itemInfo.path)) {\r\n\t\t\tdata['path'] = itemInfo.path;\r\n\t\t} else {\r\n\t\t\tdata['tth'] = itemInfo.tth;\r\n\t\t}\r\n\r\n\t\tSocketService.post(requestPath, data)\r\n\t\t\t.then(data => this.setState({ \r\n\t\t\t\tdupe_paths: this.state.dupe_paths.concat(data.map(path => FileUtils.getParentPath(path, FileUtils)))\r\n\t\t\t}))\r\n\t\t\t.catch(error => console.error('Failed to fetch dupe paths', requestPath, error.message));\r\n\t},\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchPaths(ShareConstants.GROUPED_ROOTS_GET_URL, 'share_paths');\r\n\t\tthis.fetchPaths(FavoriteDirectoryConstants.DIRECTORIES_URL, 'favorite_paths');\r\n\t\tthis.fetchPaths(HistoryConstants.ITEMS_URL + '/' + HistoryEnum.DOWNLOAD_DIR, 'history_paths');\r\n\r\n\t\tconst { itemInfo } = this.props;\r\n\t\tconst dupeName = TypeConvert.dupeToStringType(itemInfo.dupe);\r\n\t\tif (dupeName.indexOf('queue') > -1) {\r\n\t\t\tthis.fetchDupePaths(QueueConstants.DUPE_PATHS_URL);\r\n\t\t}\r\n\r\n\t\tif (dupeName.indexOf('share') > -1) {\r\n\t\t\tthis.fetchDupePaths(ShareConstants.DUPE_PATHS_URL);\r\n\t\t}\r\n\t},\r\n\r\n\thandleDownload(path) {\r\n\t\tthis.props.downloadHandler({\r\n\t\t\ttarget_name: this.props.itemInfo.name, // possibly allow changing this later...\r\n\t\t\ttarget_directory: path,\r\n\t\t\ttarget_type: 0,\r\n\t\t\tpriority: PriorityEnum.DEFAULT\r\n\t\t});\r\n\r\n\t\tHistoryActions.add(HistoryEnum.DOWNLOAD_DIR, path);\r\n\t\tthis.refs.modal.hide();\r\n\t},\r\n\r\n\tgetMenuItem(section) {\r\n\t\treturn (\r\n\t\t\t<MenuItem key={ section.key } \r\n\t\t\t\ttitle={section.name} \r\n\t\t\t\tonClick={ () => this.setState({ active: section.key }) } \r\n\t\t\t\tactive={ this.state.active === section.key }\r\n\t\t\t\tlist={section.list}\r\n\t\t\t/>\r\n\t\t);\r\n\t},\r\n\r\n\trender: function () {\r\n\t\tconst sections = [\r\n\t\t\t{\r\n\t\t\t\tname: 'Previous',\r\n\t\t\t\tkey: 'history',\r\n\t\t\t\tlist: this.state.history_paths,\r\n\t\t\t\tcomponent: <PathList paths={ this.state.history_paths } downloadHandler={ this.handleDownload }/>\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Shared',\r\n\t\t\t\tkey: 'shared',\r\n\t\t\t\tlist: this.state.share_paths,\r\n\t\t\t\tcomponent: <AccordionTargets groupedPaths={ this.state.share_paths } downloadHandler={ this.handleDownload }/>\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Favorites',\r\n\t\t\t\tkey: 'favorites',\r\n\t\t\t\tlist: this.state.favorite_paths,\r\n\t\t\t\tcomponent: <AccordionTargets groupedPaths={ this.state.favorite_paths } downloadHandler={ this.handleDownload }/>\r\n\t\t\t}, {\r\n\t\t\t\tname: 'Dupes',\r\n\t\t\t\tkey: 'dupes',\r\n\t\t\t\tlist: this.state.dupe_paths,\r\n\t\t\t\tcomponent: <PathList paths={ this.state.dupe_paths } downloadHandler={ this.handleDownload }/>\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tif (LoginStore.hasAccess(AccessConstants.FILESYSTEM_VIEW)) {\r\n\t\t\tsections.push({\r\n\t\t\t\tname: 'Browse',\r\n\t\t\t\tkey: 'browse',\r\n\t\t\t\tcomponent: <DownloadFileBrowser history={ this.state.history_paths } downloadHandler={ this.handleDownload }/>\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst section = sections.find(section => section.key === this.state.active);\r\n\t\tconst menuItems = sections.map(this.getMenuItem);\r\n\r\n\t\tconst Component = BrowserUtils.useMobileLayout() ? MobileLayout : NormalLayout;\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tref=\"modal\" \r\n\t\t\t\tclassName=\"download-dialog\" \r\n\t\t\t\ttitle=\"Download\" \r\n\t\t\t\tclosable={true} \r\n\t\t\t\ticon={ IconConstants.DOWNLOAD }\r\n\t\t\t\tfullHeight={true}\r\n\t\t\t\t{...this.props}\r\n\t\t\t>\r\n\t\t\t\t<Component\r\n\t\t\t\t\tmenuItems={ menuItems }\r\n\t\t\t\t\tsection={ section }\r\n\t\t\t\t/>\r\n\t\t\t</Modal>);\r\n\t}\r\n});\r\n\r\nexport default DownloadDialog;\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/components/download/DownloadDialog.jsx\n **/","import React from 'react';\n\nimport FileBrowserLayout from 'components/filebrowser/FileBrowserLayout';\n\n\nconst DownloadFileBrowser = React.createClass({\n\thandleDownload(path) {\n\t\tthis.refs.modal.hide();\n\t},\n\n\tonDirectoryChanged(path) {\n\t\tthis.setState({ currentPath: path });\n\t},\n\n\tgetInitialState() {\n\t\treturn {\n\t\t\tcurrentPath: this.getInitialPath(),\n\t\t};\n\t},\n\n\tselectedNameFormatter(caption, token) {\n\t\tif (token.length === 0) {\n\t\t\t// Drive listing on Windows isn't a good target\n\t\t\treturn caption;\n\t\t}\n\n\t\tconst formatedCaption = (\n\t\t\t<div className=\"download-handler\" onClick={ () => this.props.downloadHandler(this.state.currentPath) }>\n\t\t\t\t<i className=\"green download link icon\"></i>\n\t\t\t\t<a>{ caption }</a>\n\t\t\t</div>\n\t\t);\n\n\t\treturn formatedCaption;\n\t},\n\n\tgetInitialPath() {\n\t\tconst { history } = this.props;\n\t\treturn history.length > 0 ? history[history.length-1] : '';\n\t},\n\n\trender: function () {\n\t\treturn (\n\t\t\t<FileBrowserLayout \n\t\t\t\tinitialPath={ this.getInitialPath() } \n\t\t\t\tselectedNameFormatter={ this.selectedNameFormatter }\n\t\t\t\tonDirectoryChanged={ this.onDirectoryChanged }\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default DownloadFileBrowser;\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/components/download/DownloadFileBrowser.jsx\n **/","import React from 'react';\n\nimport Accordion from 'components/semantic/Accordion';\nimport Message from 'components/semantic/Message';\n\n\nconst EmptyMessage = () => (\n\t<Message\n\t\ttitle=\"No paths to display\"\n\t/>\n);\n\nconst PathItem = ({ path, downloadHandler }) => (\n\t<div className=\"item\">\n\t\t<i className=\"yellow folder icon\"></i>\n\t\t<div className=\"content\">\n\t\t\t<a onClick={ evt => downloadHandler(path) }>\n\t\t\t\t{ path }\n\t\t\t</a>\n\t\t</div>\n\t</div>\n);\n\nconst PathList = ({ downloadHandler, paths }) => {\n\tif (paths.length === 0) {\n\t\treturn <EmptyMessage/>;\n\t}\n\n\treturn (\n\t\t<div className=\"ui relaxed list\">\n\t\t\t{ paths.map(path => (\n\t\t\t\t<PathItem \n\t\t\t\t\tkey={path} \n\t\t\t\t\tpath={path} \n\t\t\t\t\tdownloadHandler={ downloadHandler }\n\t\t\t\t/>\n\t\t\t)) }\n\t\t</div>\n\t);\n};\n\nPathList.PropTypes = {\n\t/**\n\t * Function handling the path selection. Receives the selected path as argument.\n\t */\n\tdownloadHandler: React.PropTypes.func.isRequired,\n\n\t/**\n\t * Array of paths to list\n\t */\n\tpaths: React.PropTypes.array.isRequired,\n};\n\n\nconst AccordionTargets = React.createClass({\n\tpropTypes: {\n\t\t/**\n\t\t * Function handling the path selection. Receives the selected path as argument.\n\t\t */\n\t\tdownloadHandler: React.PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Grouped paths to list\n\t\t */\n\t\tgroupedPaths: React.PropTypes.array.isRequired,\n\t},\n\n\tformatParent(parent) {\n\t\treturn (\n\t\t\t<div key={ parent.name }>\n\t\t\t\t<div className=\"title\">\n\t\t\t\t\t<i className=\"dropdown icon\"></i>\n\t\t\t\t\t{ parent.name }\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<PathList paths={parent.paths} downloadHandler={ this.props.downloadHandler }/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t);\n\t},\n\n\trender: function () {\n\t\tconst { groupedPaths } = this.props;\n\t\tif (groupedPaths.length === 0) {\n\t\t\treturn <EmptyMessage/>;\n\t\t}\n\n\t\treturn (\n\t\t\t<Accordion className=\"styled download-targets\">\n\t\t\t\t{this.props.groupedPaths.map(this.formatParent) }\n\t\t\t</Accordion>\n\t\t);\n\t}\n});\n\nexport { PathList, AccordionTargets };\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/components/download/DownloadTargets.jsx\n **/","const MODULE_URL = 'favorite_directories/v0';\r\nexport default {\r\n\tMODULE_URL: MODULE_URL,\r\n\tDIRECTORIES_URL: MODULE_URL + '/directories'\r\n}\r\n;\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/constants/FavoriteDirectoryConstants.js\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".download-dialog .accordion.download-targets{overflow-y:auto}.download-dialog .main-content,.download-dialog .mobile.layout{display:flex;flex-direction:column}.download-dialog .content>div,.download-dialog .main-content,.download-dialog .ui.grid .column{height:100%}.download-dialog .download-handler{display:flex}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./src/components/download/style.css\n ** module id = 179\n ** module chunks = 5 9\n **/"],"sourceRoot":""}
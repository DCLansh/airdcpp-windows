webpackJsonp([18],{491:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),s=l(n),i=a(3),r=l(i),u=a(68),o=l(u),d=a(9),c=l(d),m=a(17),f=l(m),p=a(16),E=l(p),g=a(23),h=function(e){var t=e.lastError;return null===t?s["default"].createElement("span",null):s["default"].createElement(f["default"],{isError:!0,description:"Authentication failed: "+t})},v=function(e){var t=e.onSubmit,a=e.loading;return a?s["default"].createElement(E["default"],{size:"small",inline:!0,text:""}):s["default"].createElement("input",{className:"ui button fluid large submit",value:"Login",type:"submit",onClick:t})},N=function(){return s["default"].createElement("span",null)},b=13,w=s["default"].createClass({displayName:"Login",mixins:[r["default"].connect(c["default"]),g.History],getInitialState:function(){return{loading:!1}},componentWillUpdate:function(e,t){if(t.socketAuthenticated){var a=this.props.location.state?this.props.location.state.nextPath:"/";this.history.replaceState(null,a)}else this.state.loading&&null!==t.lastError&&this.setState({loading:!1})},_onKeyDown:function(e){e.keyCode===b&&this.onSubmit(e)},onSubmit:function(e){var t=this.refs.username.value,a=this.refs.password.value;return e.preventDefault(),""===t||""===a?void this.setState({lastError:"Please enter both username and password"}):(o["default"].login(t,a),void this.setState({loading:!0}))},render:function(){return s["default"].createElement("div",{className:"ui middle aligned center aligned grid login-grid"},s["default"].createElement("div",{className:"column"},s["default"].createElement("form",{className:"ui large form",onKeyDown:this._onKeyDown,autoComplete:"on"},s["default"].createElement("div",{className:"ui stacked segment"},s["default"].createElement("div",{className:"field"},s["default"].createElement("div",{className:"ui left icon input"},s["default"].createElement("i",{className:"user icon"}),s["default"].createElement("input",{type:"text",name:"username",placeholder:"Username",ref:"username"}))),s["default"].createElement("div",{className:"field"},s["default"].createElement("div",{className:"ui left icon input"},s["default"].createElement("i",{className:"lock icon"}),s["default"].createElement("input",{className:"password",name:"password",placeholder:"Password",ref:"password",type:"password"}))),s["default"].createElement(v,{onSubmit:this.onSubmit,loading:this.state.loading})),s["default"].createElement(N,null)),s["default"].createElement(h,{userLoggedIn:this.state.userLoggedIn,lastError:this.state.lastError})))}});t["default"]=w}});
//# sourceMappingURL=login.chunk.js.map
{"version":3,"sources":["webpack:///js/login.chunk.js","webpack:///C:/Projects/airdcpp-webui/src/routes/Login/components/Login.jsx"],"names":["webpackJsonp",491,"module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_react","_react2","_reflux","_reflux2","_LoginActions","_LoginActions2","_LoginStore","_LoginStore2","_Message","_Message2","_Loader","_Loader2","_reactRouter","ErrorBox","_ref","lastError","createElement","isError","description","SubmitButton","_ref2","onSubmit","loading","size","inline","text","className","type","onClick","BottomMessage","ENTER_KEY_CODE","Login","createClass","displayName","mixins","connect","History","getInitialState","componentWillUpdate","nextProps","nextState","socketAuthenticated","nextPath","this","props","location","state","history","replaceState","setState","_onKeyDown","event","keyCode","evt","username","refs","password","preventDefault","login","render","onKeyDown","autoComplete","name","placeholder","ref","userLoggedIn"],"mappings":"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","file":"js/login.chunk.js","sourcesContent":["webpackJsonp([18],{\n\n/***/ 491:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reflux = __webpack_require__(3);\n\t\n\tvar _reflux2 = _interopRequireDefault(_reflux);\n\t\n\tvar _LoginActions = __webpack_require__(68);\n\t\n\tvar _LoginActions2 = _interopRequireDefault(_LoginActions);\n\t\n\tvar _LoginStore = __webpack_require__(9);\n\t\n\tvar _LoginStore2 = _interopRequireDefault(_LoginStore);\n\t\n\tvar _Message = __webpack_require__(17);\n\t\n\tvar _Message2 = _interopRequireDefault(_Message);\n\t\n\tvar _Loader = __webpack_require__(16);\n\t\n\tvar _Loader2 = _interopRequireDefault(_Loader);\n\t\n\tvar _reactRouter = __webpack_require__(23);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ErrorBox = function ErrorBox(_ref) {\n\t\tvar lastError = _ref.lastError;\n\t\n\t\tif (lastError === null) {\n\t\t\treturn _react2.default.createElement('span', null);\n\t\t}\n\t\n\t\treturn _react2.default.createElement(_Message2.default, {\n\t\t\tisError: true,\n\t\t\tdescription: 'Authentication failed: ' + lastError\n\t\t});\n\t};\n\t\n\tvar SubmitButton = function SubmitButton(_ref2) {\n\t\tvar onSubmit = _ref2.onSubmit;\n\t\tvar loading = _ref2.loading;\n\t\n\t\tif (loading) {\n\t\t\treturn _react2.default.createElement(_Loader2.default, { size: 'small', inline: true, text: '' });\n\t\t}\n\t\n\t\t// Don't change the submit button type so that browser prompt to save the password\n\t\treturn _react2.default.createElement('input', {\n\t\t\tclassName: 'ui button fluid large submit',\n\t\t\tvalue: 'Login',\n\t\t\ttype: 'submit',\n\t\t\tonClick: onSubmit\n\t\t});\n\t};\n\t\n\tvar BottomMessage = function BottomMessage() {\n\t\tif ((undefined) !== '1') {\n\t\t\treturn _react2.default.createElement('span', null);\n\t\t}\n\t\n\t\treturn _react2.default.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'ui stacked segment' },\n\t\t\t_react2.default.createElement(_Message2.default, {\n\t\t\t\tdescription: _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Username: ',\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'strong',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'demo'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement('br', null),\n\t\t\t\t\t'Password: ',\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'strong',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'demo'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t})\n\t\t);\n\t};\n\t\n\tvar ENTER_KEY_CODE = 13;\n\t\n\tvar Login = _react2.default.createClass({\n\t\tdisplayName: 'Login',\n\t\n\t\tmixins: [_reflux2.default.connect(_LoginStore2.default), _reactRouter.History],\n\t\tgetInitialState: function getInitialState() {\n\t\t\treturn {\n\t\t\t\tloading: false\n\t\t\t};\n\t\t},\n\t\tcomponentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n\t\t\tif (nextState.socketAuthenticated) {\n\t\t\t\tvar nextPath = this.props.location.state ? this.props.location.state.nextPath : '/';\n\t\t\t\tthis.history.replaceState(null, nextPath);\n\t\t\t} else if (this.state.loading && nextState.lastError !== null) {\n\t\t\t\tthis.setState({ loading: false });\n\t\t\t}\n\t\t},\n\t\n\t\t_onKeyDown: function _onKeyDown(event) {\n\t\t\tif (event.keyCode === ENTER_KEY_CODE) {\n\t\t\t\tthis.onSubmit(event);\n\t\t\t}\n\t\t},\n\t\n\t\tonSubmit: function onSubmit(evt) {\n\t\t\tvar username = this.refs.username.value;\n\t\t\tvar password = this.refs.password.value;\n\t\t\tevt.preventDefault();\n\t\n\t\t\tif (username === '' || password === '') {\n\t\t\t\tthis.setState({ lastError: 'Please enter both username and password' });\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t_LoginActions2.default.login(username, password);\n\t\t\tthis.setState({ loading: true });\n\t\t},\n\t\trender: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'ui middle aligned center aligned grid login-grid' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'column' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'form',\n\t\t\t\t\t\t{ className: 'ui large form', onKeyDown: this._onKeyDown, autoComplete: 'on' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'ui stacked segment' },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'field' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ className: 'ui left icon input' },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement('i', { className: 'user icon' }),\n\t\t\t\t\t\t\t\t\t_react2.default.createElement('input', { type: 'text', name: 'username', placeholder: 'Username', ref: 'username' })\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ className: 'field' },\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ className: 'ui left icon input' },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement('i', { className: 'lock icon' }),\n\t\t\t\t\t\t\t\t\t_react2.default.createElement('input', { className: 'password', name: 'password', placeholder: 'Password', ref: 'password', type: 'password' })\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t_react2.default.createElement(SubmitButton, {\n\t\t\t\t\t\t\t\tonSubmit: this.onSubmit,\n\t\t\t\t\t\t\t\tloading: this.state.loading\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(BottomMessage, null)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(ErrorBox, { userLoggedIn: this.state.userLoggedIn, lastError: this.state.lastError })\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\t\n\texports.default = Login;\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** js/login.chunk.js\n **/","import React from 'react';\r\nimport Reflux from 'reflux';\r\n\r\nimport LoginActions from 'actions/LoginActions';\r\nimport LoginStore from 'stores/LoginStore';\r\n\r\nimport Message from 'components/semantic/Message';\r\nimport Loader from 'components/semantic/Loader';\r\n\r\nimport { History } from 'react-router';\r\n\r\nconst ErrorBox = ({ lastError }) => {\r\n\tif (lastError === null) {\r\n\t\treturn <span/>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Message \r\n\t\t\tisError={true} \r\n\t\t\tdescription={ 'Authentication failed: ' + lastError }\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst SubmitButton = ({ onSubmit, loading }) => {\r\n\tif (loading) {\r\n\t\treturn <Loader size=\"small\" inline={ true } text=\"\"/>;\r\n\t}\r\n\r\n\t// Don't change the submit button type so that browser prompt to save the password\r\n\treturn (\r\n\t\t<input\r\n\t\t\tclassName=\"ui button fluid large submit\"\r\n\t\t\tvalue=\"Login\"\r\n\t\t\ttype=\"submit\"\r\n\t\t\tonClick={ onSubmit }\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst BottomMessage = () => {\r\n\tif (process.env.DEMO_MODE !== '1') {\r\n\t\treturn <span/>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"ui stacked segment\">\r\n\t\t\t<Message \r\n\t\t\t\tdescription={ (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\tUsername: <strong>demo</strong>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\tPassword: <strong>demo</strong>\r\n\t\t\t\t\t</div> \r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst ENTER_KEY_CODE = 13;\r\n\r\nconst Login = React.createClass({\r\n\tmixins: [ Reflux.connect(LoginStore), History ],\r\n\tgetInitialState() {\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t};\r\n\t},\r\n\r\n\tcomponentWillUpdate(nextProps, nextState) {\r\n\t\tif (nextState.socketAuthenticated) {\r\n\t\t\tconst nextPath = this.props.location.state ? this.props.location.state.nextPath : '/';\r\n\t\t\tthis.history.replaceState(null, nextPath);\r\n\t\t} else if (this.state.loading && nextState.lastError !== null) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t},\r\n\r\n\t_onKeyDown: function (event) {\r\n\t\tif (event.keyCode === ENTER_KEY_CODE) {\r\n\t\t\tthis.onSubmit(event);\r\n\t\t}\r\n\t},\r\n\r\n\tonSubmit(evt) {\r\n\t\tconst username = this.refs.username.value;\r\n\t\tconst password = this.refs.password.value;\r\n\t\tevt.preventDefault();\r\n\r\n\t\tif (username === '' || password === '') {\r\n\t\t\tthis.setState({ lastError: 'Please enter both username and password' });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tLoginActions.login(username, password);\r\n\t\tthis.setState({ loading: true });\r\n\t},\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ui middle aligned center aligned grid login-grid\">\r\n\t\t\t\t<div className=\"column\">\r\n\t\t\t\t\t<form className=\"ui large form\" onKeyDown={this._onKeyDown} autoComplete=\"on\">\r\n\t\t\t\t\t\t<div className=\"ui stacked segment\">\r\n\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t<div className=\"ui left icon input\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"user icon\"></i>\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"username\" placeholder=\"Username\" ref=\"username\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t<div className=\"ui left icon input\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"lock icon\"></i>\r\n\t\t\t\t\t\t\t\t\t<input className=\"password\" name=\"password\" placeholder=\"Password\" ref=\"password\" type=\"password\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<SubmitButton\r\n\t\t\t\t\t\t\t\tonSubmit={ this.onSubmit }\r\n\t\t\t\t\t\t\t\tloading={ this.state.loading }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<BottomMessage/>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<ErrorBox userLoggedIn={this.state.userLoggedIn} lastError={this.state.lastError}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nexport default Login;\n\n\n/** WEBPACK FOOTER **\n ** C:/Projects/airdcpp-webui/src/routes/Login/components/Login.jsx\n **/"],"sourceRoot":""}